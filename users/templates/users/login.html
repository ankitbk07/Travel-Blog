{% extends "blog/base.html" %}
{% load crispy_forms_tags %}
{% block content %}
    <div class="content-section d-flex justify-content-center align-items-center vh-80">
        <form method="POST" class="col-lg-4 col-md-8 col-sm-10 col-xs-12">
            {% csrf_token %}
            <fieldset class="form-group">
                <legend class="border-bottom mb-4 text-center">Log In</legend>
                {{ form.username.label_tag }}
                <input type="text" name="{{ form.username.name }}" class="form-control mb-2" placeholder="Enter your Username" required autocomplete="off">
                {{ form.password.label_tag }}
                <div class="input-group mb-4">
                    <input type="password" name="{{ form.password.name }}" id="password-input" class="form-control" placeholder="Enter your Password" required autocomplete="new-password">
                    <button type="button" class="btn btn-link input-group-text p-0" id="toggle-password">
                        <i class="bi bi-eye-slash toggle-icon" ></i>
                    </button>
                </div>
            </fieldset>
            <div class="form-group d-flex justify-content-center">
                <button class="btn btn-primary" type="submit">Login</button>
            </div>
        </form>
    </div>
    <div class="d-flex justify-content-center mt-3">
        <small class="text-muted" style="font-size: 16px;">
            Need an Account? <a href="{% url 'register' %}">Sign Up</a>
        </small>
    </div>
{% endblock content %}
<script>
    const passwordInput = document.getElementById('password-input');
    const togglePasswordBtn = document.getElementById('toggle-password');

    togglePasswordBtn.addEventListener('click', () => {
        if (passwordInput.type === 'password') {
            passwordInput.type = 'text';
            togglePasswordBtn.innerHTML = '<i class="bi bi-eye"></i>';
        } else {
            passwordInput.type = 'password';
            togglePasswordBtn.innerHTML = '<i class="bi bi-eye-slash"></i>';
        }
    });
</script>
